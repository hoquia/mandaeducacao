<div class="modern-form-container">
  <div class="modern-form-wrapper">
    <div class="modern-form-header">
      <h2 class="modern-form-title">
        <fa-icon icon="exclamation-triangle" class="me-2 text-warning"></fa-icon>
        <span appTranslate="longonkeloApp.categoriaOcorrencia.home.createOrEditLabel">Criar ou editar Categoria Ocorrência</span>
      </h2>
    </div>

    <form name="editForm" role="form" novalidate (ngSubmit)="save()" [formGroup]="editForm" class="modern-form">
      <app-alert-error></app-alert-error>

      <!-- ID Field (Only for Edit Mode) -->
      <div class="row mb-3" *ngIf="editForm.controls.id.value !== null">
        <div class="col-12">
          <label class="form-label" appTranslate="global.field.id" for="field_id">
            <fa-icon icon="key" class="me-2 text-secondary"></fa-icon>ID
          </label>
          <input type="number" class="form-control" name="id" id="field_id" data-cy="id" formControlName="id" [readonly]="true" />
        </div>
      </div>

      <!-- Section 1: Basic Information -->
      <fieldset class="modern-form-section">
        <legend class="modern-form-section-title">
          <fa-icon icon="info-circle" class="section-icon"></fa-icon>
          Informações Básicas
        </legend>
        <div class="modern-form-section-content">
          <div class="row">
            <div class="col-md-6">
              <label class="form-label" appTranslate="longonkeloApp.categoriaOcorrencia.codigo" for="field_codigo">
                <fa-icon icon="hashtag" class="me-2 text-primary"></fa-icon>Código
              </label>
              <input type="text" class="form-control" name="codigo" id="field_codigo" data-cy="codigo" formControlName="codigo" />
              <div *ngIf="editForm.get('codigo')!.invalid && (editForm.get('codigo')!.dirty || editForm.get('codigo')!.touched)">
                <small
                  class="form-text text-danger"
                  *ngIf="editForm.get('codigo')?.errors?.required"
                  appTranslate="entity.validation.required"
                >
                  O campo é obrigatório.
                </small>
              </div>
            </div>
            <div class="col-md-6">
              <label class="form-label" appTranslate="longonkeloApp.categoriaOcorrencia.sansaoDisicplinar" for="field_sansaoDisicplinar">
                <fa-icon icon="gavel" class="me-2 text-primary"></fa-icon>Sanção Disciplinar
              </label>
              <input
                type="text"
                class="form-control"
                name="sansaoDisicplinar"
                id="field_sansaoDisicplinar"
                data-cy="sansaoDisicplinar"
                formControlName="sansaoDisicplinar"
              />
            </div>
          </div>
          <div class="row">
            <div class="col-12">
              <label class="form-label" appTranslate="longonkeloApp.categoriaOcorrencia.descricao" for="field_descricao">
                <fa-icon icon="file-alt" class="me-2 text-primary"></fa-icon>Descrição
              </label>
              <input
                type="text"
                class="form-control"
                name="descricao"
                id="field_descricao"
                data-cy="descricao"
                formControlName="descricao"
              />
              <div *ngIf="editForm.get('descricao')!.invalid && (editForm.get('descricao')!.dirty || editForm.get('descricao')!.touched)">
                <small
                  class="form-text text-danger"
                  *ngIf="editForm.get('descricao')?.errors?.required"
                  appTranslate="entity.validation.required"
                >
                  O campo é obrigatório.
                </small>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-12">
              <label class="form-label" appTranslate="longonkeloApp.categoriaOcorrencia.observacao" for="field_observacao">
                <fa-icon icon="sticky-note" class="me-2 text-primary"></fa-icon>Observação
              </label>
              <textarea
                class="form-control"
                name="observacao"
                id="field_observacao"
                data-cy="observacao"
                formControlName="observacao"
                rows="3"
                placeholder="Digite observações adicionais..."
              ></textarea>
            </div>
          </div>
        </div>
      </fieldset>

      <!-- Section 2: Notification Settings -->
      <fieldset class="modern-form-section">
        <legend class="modern-form-section-title">
          <fa-icon icon="bell" class="section-icon"></fa-icon>
          Configurações de Notificação
        </legend>
        <div class="modern-form-section-content">
          <div class="row">
            <div class="col-md-6">
              <div class="form-check form-switch mb-3">
                <input
                  type="checkbox"
                  class="form-check-input"
                  name="isNotificaEncaregado"
                  id="field_isNotificaEncaregado"
                  data-cy="isNotificaEncaregado"
                  formControlName="isNotificaEncaregado"
                />
                <label
                  class="form-check-label"
                  appTranslate="longonkeloApp.categoriaOcorrencia.isNotificaEncaregado"
                  for="field_isNotificaEncaregado"
                >
                  <fa-icon icon="user-tie" class="me-2 text-info"></fa-icon>Notificar Encarregado
                </label>
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-check form-switch mb-3">
                <input
                  type="checkbox"
                  class="form-check-input"
                  name="isSendEmail"
                  id="field_isSendEmail"
                  data-cy="isSendEmail"
                  formControlName="isSendEmail"
                />
                <label class="form-check-label" appTranslate="longonkeloApp.categoriaOcorrencia.isSendEmail" for="field_isSendEmail">
                  <fa-icon icon="envelope" class="me-2 text-info"></fa-icon>Enviar Email
                </label>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-6">
              <div class="form-check form-switch mb-3">
                <input
                  type="checkbox"
                  class="form-check-input"
                  name="isSendSms"
                  id="field_isSendSms"
                  data-cy="isSendSms"
                  formControlName="isSendSms"
                />
                <label class="form-check-label" appTranslate="longonkeloApp.categoriaOcorrencia.isSendSms" for="field_isSendSms">
                  <fa-icon icon="sms" class="me-2 text-info"></fa-icon>Enviar SMS
                </label>
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-check form-switch mb-3">
                <input
                  type="checkbox"
                  class="form-check-input"
                  name="isSendPush"
                  id="field_isSendPush"
                  data-cy="isSendPush"
                  formControlName="isSendPush"
                />
                <label class="form-check-label" appTranslate="longonkeloApp.categoriaOcorrencia.isSendPush" for="field_isSendPush">
                  <fa-icon icon="mobile-alt" class="me-2 text-info"></fa-icon>Enviar Push
                </label>
              </div>
            </div>
          </div>
        </div>
      </fieldset>

      <!-- Section 3: References and Actions -->
      <fieldset class="modern-form-section">
        <legend class="modern-form-section-title">
          <fa-icon icon="link" class="section-icon"></fa-icon>
          Referências e Encaminhamentos
        </legend>
        <div class="modern-form-section-content">
          <div class="row">
            <div class="col-md-6">
              <label class="form-label" appTranslate="longonkeloApp.categoriaOcorrencia.encaminhar" for="field_encaminhar">
                <fa-icon icon="share" class="me-2 text-success"></fa-icon>Encaminhar para
              </label>
              <select
                class="form-select"
                id="field_encaminhar"
                data-cy="encaminhar"
                name="encaminhar"
                formControlName="encaminhar"
                [compareWith]="compareDocente"
              >
                <option [ngValue]="null">Selecionar docente...</option>
                <option [ngValue]="docenteOption" *ngFor="let docenteOption of docentesSharedCollection">{{ docenteOption.nome }}</option>
              </select>
            </div>
            <div class="col-md-6">
              <label class="form-label" appTranslate="longonkeloApp.categoriaOcorrencia.referencia" for="field_referencia">
                <fa-icon icon="bookmark" class="me-2 text-success"></fa-icon>Referência
              </label>
              <select
                class="form-select"
                id="field_referencia"
                data-cy="referencia"
                name="referencia"
                formControlName="referencia"
                [compareWith]="compareCategoriaOcorrencia"
              >
                <option [ngValue]="null">Selecionar referência...</option>
                <option
                  [ngValue]="categoriaOcorrenciaOption"
                  *ngFor="let categoriaOcorrenciaOption of categoriaOcorrenciasSharedCollection"
                >
                  {{ categoriaOcorrenciaOption.id }}
                </option>
              </select>
            </div>
          </div>
          <div class="row">
            <div class="col-12">
              <label class="form-label" appTranslate="longonkeloApp.categoriaOcorrencia.medidaDisciplinar" for="field_medidaDisciplinar">
                <fa-icon icon="balance-scale" class="me-2 text-success"></fa-icon>Medida Disciplinar
              </label>
              <select
                class="form-select"
                id="field_medidaDisciplinar"
                data-cy="medidaDisciplinar"
                name="medidaDisciplinar"
                formControlName="medidaDisciplinar"
                [compareWith]="compareMedidaDisciplinar"
              >
                <option *ngIf="editForm.get(['medidaDisciplinar'])!.value == null" [ngValue]="null" selected>
                  Selecionar medida disciplinar...
                </option>
                <option [ngValue]="medidaDisciplinarOption" *ngFor="let medidaDisciplinarOption of medidaDisciplinarsSharedCollection">
                  {{ medidaDisciplinarOption.descricao }}
                </option>
              </select>
              <div
                *ngIf="
                  editForm.get(['medidaDisciplinar'])!.invalid &&
                  (editForm.get(['medidaDisciplinar'])!.dirty || editForm.get(['medidaDisciplinar'])!.touched)
                "
              >
                <small
                  class="form-text text-danger"
                  *ngIf="editForm.get(['medidaDisciplinar'])?.errors?.required"
                  appTranslate="entity.validation.required"
                >
                  O campo é obrigatório.
                </small>
              </div>
            </div>
          </div>
        </div>
      </fieldset>

      <!-- Form Actions -->
      <div class="modern-form-actions">
        <button
          type="button"
          id="cancel-save"
          data-cy="entityCreateCancelButton"
          class="btn btn-outline-secondary"
          (click)="previousState()"
        >
          <fa-icon icon="ban" class="me-2"></fa-icon>
          <span appTranslate="entity.action.cancel">Cancelar</span>
        </button>

        <button
          type="submit"
          id="save-entity"
          data-cy="entityCreateSaveButton"
          [disabled]="editForm.invalid || isSaving"
          class="btn btn-primary"
        >
          <fa-icon icon="save" class="me-2"></fa-icon>
          <span appTranslate="entity.action.save">Guardar</span>
        </button>
      </div>
    </form>
  </div>
</div>
