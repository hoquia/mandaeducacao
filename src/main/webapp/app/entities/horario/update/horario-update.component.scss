// Horário Form Modern Styling
// Applies consistent modern design pattern for schedule management

// Import base modern form styles and animations
@import 'content/scss/modern-forms';
@import 'content/scss/animations';

// Horário-specific theme colors (schedule/academic theme)
:host {
  --horario-primary: var(--azul-carregado);
  --horario-secondary: var(--azul-vibrante);
  --horario-accent: #28a745; // Green for schedule/time
  --horario-warning: var(--amarelo);
  --horario-info: #17a2b8;
}

.modern-form-container {
  @include modern-form-base;

  .form-header {
    background: linear-gradient(135deg, var(--horario-primary) 0%, var(--horario-secondary) 100%);
    color: var(--branco);
    padding: 2rem;
    border-radius: 12px 12px 0 0;
    margin-bottom: 0;
    text-align: center;
    box-shadow: 0 4px 20px rgba(10, 15, 91, 0.15);

    h2 {
      font-size: 1.75rem;
      font-weight: 600;
      margin: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.75rem;

      i {
        font-size: 2rem;
        opacity: 0.9;
      }
    }

    .form-subtitle {
      margin: 0.75rem 0 0 0;
      opacity: 0.9;
      font-size: 1rem;
      font-weight: 300;
    }
  }

  .modern-form {
    .form-section {
      @include form-section-base;
      animation: slideInUp 0.6s ease-out;

      &:nth-child(3) {
        animation-delay: 0.1s;
      } // Schedule configuration
      &:nth-child(4) {
        animation-delay: 0.2s;
      } // Academic assignment

      .section-title {
        @include section-title-base;
        color: var(--horario-primary);
        border-left: 4px solid var(--horario-secondary);

        i {
          color: var(--horario-secondary);
        }
      }

      // Schedule configuration section (first section)
      &:first-of-type {
        .section-title {
          background: linear-gradient(90deg, rgba(40, 167, 69, 0.1) 0%, transparent 100%);
          border-left-color: var(--horario-accent);

          i {
            color: var(--horario-accent);
          }
        }
      }

      // Academic assignment section (second section)
      &:last-of-type {
        .section-title {
          background: linear-gradient(90deg, rgba(23, 162, 184, 0.1) 0%, transparent 100%);
          border-left-color: var(--horario-info);

          i {
            color: var(--horario-info);
          }
        }
      }
    }

    .form-group {
      @include form-group-base;

      .form-label {
        @include form-label-base;
        color: var(--horario-primary);

        i {
          color: var(--horario-secondary);
        }

        .required {
          color: #dc3545;
        }
      }

      .form-control,
      .form-select {
        @include form-control-base;
        border: 2px solid #e9ecef;
        transition: all 0.3s ease;

        &:focus {
          border-color: var(--horario-secondary);
          box-shadow: 0 0 0 0.25rem rgba(30, 144, 255, 0.15);
        }

        &.is-invalid {
          border-color: #dc3545;
          box-shadow: 0 0 0 0.25rem rgba(220, 53, 69, 0.15);
        }
      }

      // ng-select specific styling
      ng-select {
        &.ng-select {
          border: 2px solid #e9ecef;
          border-radius: 8px;
          transition: all 0.3s ease;

          &.ng-select-focused {
            border-color: var(--horario-secondary);
            box-shadow: 0 0 0 0.25rem rgba(30, 144, 255, 0.15);
          }

          &.ng-invalid.ng-touched {
            border-color: #dc3545;
            box-shadow: 0 0 0 0.25rem rgba(220, 53, 69, 0.15);
          }

          .ng-select-container {
            background: var(--branco);
            border: none;
            border-radius: 6px;
            min-height: 42px;

            .ng-value-container {
              padding: 0.5rem 0.75rem;

              .ng-placeholder {
                color: #6c757d;
                font-style: italic;
              }

              .ng-value {
                color: var(--horario-primary);
                font-weight: 500;
              }
            }

            .ng-arrow-wrapper {
              .ng-arrow {
                border-color: var(--horario-secondary) transparent transparent;
                border-style: solid;
                border-width: 5px 5px 0;
              }
            }
          }

          .ng-dropdown-panel {
            background: var(--branco);
            border: 2px solid var(--horario-secondary);
            border-radius: 8px;
            box-shadow: 0 4px 20px rgba(30, 144, 255, 0.15);

            .ng-dropdown-panel-items {
              .ng-option {
                padding: 0.75rem;
                border-bottom: 1px solid #f8f9fa;
                transition: all 0.2s ease;

                &:hover {
                  background: rgba(30, 144, 255, 0.1);
                  color: var(--horario-primary);
                }

                &.ng-option-highlighted {
                  background: var(--horario-secondary);
                  color: var(--branco);
                }

                &.ng-option-selected {
                  background: var(--horario-accent);
                  color: var(--branco);
                  font-weight: 600;
                }
              }
            }
          }
        }
      }

      .form-text {
        @include form-help-text;
        color: #6c757d;
      }

      .invalid-feedback {
        @include invalid-feedback-base;
      }
    }

    // Period and day specific styling
    .form-group:has([data-cy='periodo']) {
      .form-label i {
        color: var(--horario-accent);
      }
    }

    .form-group:has([data-cy='diaSemana']) {
      .form-label i {
        color: var(--horario-warning);
      }
    }

    // Academic fields specific styling
    .form-group:has([data-cy='disciplinaCurricular']) {
      .form-label i {
        color: var(--horario-info);
      }
    }

    .form-group:has([data-cy='turma']) {
      .form-label i {
        color: #6f42c1;
      }
    }

    .form-group:has([data-cy='docente']) {
      .form-label i {
        color: #fd7e14;
      }
    }

    // Form actions
    .form-actions {
      @include form-actions-base;
      background: linear-gradient(135deg, rgba(10, 15, 91, 0.05) 0%, rgba(30, 144, 255, 0.05) 100%);

      .action-buttons {
        display: flex;
        gap: 1rem;
        justify-content: center;

        .btn {
          @include modern-button-base;
          padding: 0.75rem 2rem;
          font-weight: 600;
          text-transform: uppercase;
          letter-spacing: 0.5px;
          transition: all 0.3s ease;

          &.btn-primary {
            background: linear-gradient(135deg, var(--horario-primary) 0%, var(--horario-secondary) 100%);
            border: none;
            box-shadow: 0 4px 15px rgba(30, 144, 255, 0.3);

            &:hover:not(:disabled) {
              transform: translateY(-2px);
              box-shadow: 0 6px 25px rgba(30, 144, 255, 0.4);
            }

            &:disabled {
              opacity: 0.6;
              cursor: not-allowed;
              transform: none;
            }
          }

          &.btn-outline-secondary {
            color: var(--horario-primary);
            border: 2px solid var(--horario-primary);
            background: transparent;

            &:hover {
              background: var(--horario-primary);
              color: var(--branco);
              transform: translateY(-2px);
              box-shadow: 0 4px 15px rgba(10, 15, 91, 0.3);
            }
          }

          i {
            margin-right: 0.5rem;
          }
        }
      }
    }
  }
}

// Responsive design
@media (max-width: 768px) {
  .modern-form-container {
    margin: 0.5rem;

    .form-header {
      padding: 1.5rem;
      border-radius: 8px 8px 0 0;

      h2 {
        font-size: 1.5rem;
        flex-direction: column;
        gap: 0.5rem;
      }

      .form-subtitle {
        font-size: 0.9rem;
      }
    }

    .modern-form {
      .form-section {
        margin-bottom: 1.5rem;
        padding: 1.5rem;

        .section-title {
          font-size: 1.1rem;
          margin-bottom: 1rem;
        }
      }

      .form-actions .action-buttons {
        flex-direction: column;

        .btn {
          width: 100%;
          padding: 1rem;
        }
      }
    }
  }
}

// Print styles
@media print {
  .modern-form-container {
    box-shadow: none;
    border: 1px solid #ddd;

    .form-header {
      background: #f8f9fa !important;
      color: #333 !important;
    }

    .form-actions {
      display: none;
    }
  }
}

// High contrast mode
@media (prefers-contrast: high) {
  .modern-form-container {
    .form-section .section-title {
      background: #fff;
      color: #000;
      border: 2px solid #000;
    }

    .form-control,
    .form-select,
    ng-select.ng-select {
      border: 2px solid #000;
    }
  }
}

// Reduced motion
@media (prefers-reduced-motion: reduce) {
  .modern-form-container {
    .form-section {
      animation: none;
    }

    .btn,
    .form-control,
    .form-select,
    ng-select {
      transition: none;
    }
  }
}
